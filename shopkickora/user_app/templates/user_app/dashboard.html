{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>shopKickora - Premium Footwear Collection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: {
                50: "#f0f9ff",
                100: "#e0f2fe",
                200: "#bae6fd",
                300: "#7dd3fc",
                400: "#38bdf8",
                500: "#0ea5e9",
                600: "#0284c7",
                700: "#0369a1",
                800: "#075985",
                900: "#0c4a6e",
              },
              accent: {
                500: "#ff4d4f",
                600: "#f5222d",
              },
            },
            fontFamily: {
              sans: ["Inter", "sans-serif"],
            },
            boxShadow: {
              card: "0 4px 16px rgba(0,0,0,0.05)",
              soft: "0 8px 24px rgba(0,0,0,0.1)",
            },
            animation: {
              "fade-in": "fadeIn 0.5s ease-out",
            },
            keyframes: {
              fadeIn: {
                "0%": { opacity: "0", transform: "translateY(10px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
            },
            aspectRatio: {
              "4/3": "4 / 3",
            },
          },
        },
      };
    </script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        background-color: #e6f0fa;
      }
      .product-image-container {
        position: relative;
        width: 100%;
        aspect-ratio: 4 / 3; /* Ensures consistent image aspect ratio */
        overflow: hidden;
      }
      .product-image {
        background-color: #e5e7eb; /* Gray background as a fallback */
        width: 100%;
        height: 100%;
        object-fit: cover; /* Ensures image covers the container without distortion */
        transition: transform 0.3s ease;
      }
      .product-card:hover .product-image {
        transform: scale(1.05); /* Subtle zoom effect on hover */
      }
      .btn-primary {
        background-color: #0ea5e9; /* primary-500 */
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 0.375rem;
        font-weight: 600;
        transition: background-color 0.3s ease;
      }
      .btn-primary:hover {
        background-color: #0284c7; /* primary-600 */
      }
    </style>
  </head>
  <body class="min-h-screen flex flex-col">
    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between py-4">
          <!-- Logo -->
          <div class="flex items-center space-x-2">
            <div
              class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center"
            >
              <i data-lucide="zap" class="w-5 h-5 text-white"></i>
            </div>
            <a
              href="{% url 'user_dashboard' %}"
              class="text-2xl font-bold text-gray-800"
              >shopKickora</a
            >
          </div>

          <!-- Desktop Navigation -->
          <nav class="hidden md:flex space-x-6">
            <a
              href="{% url 'user_dashboard' %}"
              class="text-gray-700 hover:text-blue-600 font-medium transition-colors"
              >Home</a
            >
            <a
              href=""
              class="text-gray-700 hover:text-blue-600 font-medium transition-colors"
              >Men</a
            >
            <a
              href=""
              class="text-gray-700 hover:text-blue-600 font-medium transition-colors"
              >Women</a
            >
            <a
              href=""
              class="text-gray-700 hover:text-blue-600 font-medium transition-colors"
              >Kids</a
            >
            <a
              href=""
              class="text-gray-700 hover:text-blue-600 font-medium transition-colors"
              >Sale</a
            >
            <a
              href="#"
              class="text-gray-700 hover:text-blue-600 font-medium transition-colors"
              >Contact</a
            >
            {% if user.is_authenticated %}
            <a
              href="{% url 'user_dashboard' %}"
              class="text-gray-700 hover:text-blue-600 font-medium transition-colors"
              >Dashboard</a
            >
            <button
              id="logoutBtn"
              class="text-gray-700 hover:text-blue-600 font-medium transition-colors"
            >
              Logout
            </button>
            {% else %}
            <a
              href="{% url 'login' %}"
              class="text-gray-700 hover:text-blue-600 font-medium transition-colors"
              >Login</a
            >
            <a
              href="{% url 'signup' %}"
              class="text-gray-700 hover:text-blue-600 font-medium transition-colors"
              >Sign Up</a
            >
            {% endif %}
          </nav>

          <!-- Cart and Mobile Menu -->
          <div class="flex items-center space-x-4">
            <button class="relative">
              <i data-lucide="shopping-cart" class="w-6 h-6 text-gray-700"></i>
              <span
                class="absolute -top-2 -right-2 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"
                >0</span
              >
            </button>
            <button class="md:hidden" id="mobile-menu-btn">
              <i data-lucide="menu" class="w-6 h-6 text-gray-700"></i>
            </button>
          </div>
        </div>

        <!-- Mobile Navigation -->
        <nav class="md:hidden hidden pb-4" id="mobile-menu">
          <div class="flex flex-col space-y-2">
            <a
              href="{% url 'user_dashboard' %}"
              class="text-gray-700 hover:text-blue-600 font-medium py-2"
              >Home</a
            >
            <a
              href=""
              class="text-gray-700 hover:text-blue-600 font-medium py-2"
              >Men</a
            >
            <a
              href=""
              class="text-gray-700 hover:text-blue-600 font-medium py-2"
              >Women</a
            >
            <a
              href=""
              class="text-gray-700 hover:text-blue-600 font-medium py-2"
              >Kids</a
            >
            <a
              href=""
              class="text-gray-700 hover:text-blue-600 font-medium py-2"
              >Sale</a
            >
            <a
              href="#"
              class="text-gray-700 hover:text-blue-600 font-medium py-2"
              >Contact</a
            >
            {% if user.is_authenticated %}
            <a
              href="{% url 'user_dashboard' %}"
              class="text-gray-700 hover:text-blue-600 font-medium py-2"
              >Dashboard</a
            >
            <a
              href="{% url 'logout' %}"
              class="text-gray-700 hover:text-blue-600 font-medium py-2"
              >Logout</a
            >
            {% else %}
            <a
              href="{% url 'login' %}"
              class="text-gray-700 hover:text-blue-600 font-medium py-2"
              >Login</a
            >
            <a
              href="{% url 'signup' %}"
              class="text-gray-700 hover:text-blue-600 font-medium py-2"
              >Sign Up</a
            >
            {% endif %}
          </div>
        </nav>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="text-black py-12 sm:py-16">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col lg:flex-row items-center gap-8">
          <div class="lg:w-1/2 mb-8 lg:mb-0">
            <h1
              class="text-3xl sm:text-4xl lg:text-5xl font-bold mb-4 animate-fade-in leading-tight"
            >
              Fresh Arrivals Online
            </h1>
            <p class="text-base sm:text-lg text-gray-600 mb-6">
              Discover our newest collection today
            </p>
            <a
              href="{% url 'user_product_list' %}"
              class="inline-block btn-primary"
            >
              View Collection
            </a>
          </div>
          <div class="lg:w-1/2">
            <img
              src="{% static 'user_app/Home_pic.png' %}"
              alt="Person with Shoes"
              class="w-full max-w-md mx-auto"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Best Selling Section -->
    <section class="py-12 sm:py-16">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl sm:text-3xl font-bold text-center mb-10 sm:mb-12">
          Best Selling
        </h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
          {% for product in best_selling_products %}
          <div
            class="bg-white rounded-lg shadow-card overflow-hidden transition-all duration-300 animate-fade-in product-card"
          >
            <!-- Link the entire image container to the product detail page -->
            <a href="{% url 'product_detail' slug=product.slug %}">
              <div class="product-image-container">
  {% if product.image_url %}
    <img
      src="{{ product.image_url }}"
      alt="{{ product.name }}"
      class="product-image"
    />
  {% elif product.images.exists %}
    <img
      src="{{ product.images.first.image.url }}"
      alt="{{ product.name }}"
      class="product-image"
    />
  {% elif product.images.first %}
    <img
      src="{{ product.images.first.image.url }}"
      alt="{{ product.name }}"
      class="product-image"
    />
  {% else %}
    <img
      src="{% static 'user_app/default-shoe.jpg' %}"
      alt="{{ product.name }}"
      class="product-image"
    />
  {% endif %}
</div>

            </a>
            <div class="p-4 sm:p-5">
              <h3 class="text-lg font-semibold mb-2 text-gray-800">
                <!-- Also link the product name -->
                <a
                  href="{% url 'product_detail' slug=product.slug %}"
                  class="hover:text-blue-600"
                  >{{ product.name }}</a
                >
              </h3>
              <p class="text-gray-600 text-sm mb-3 line-clamp-2">
                {{ product.description|truncatewords:10 }}
              </p>
              <div class="flex items-center justify-between">
                <span class="text-lg sm:text-xl font-bold text-blue-600"
                  >${{ product.price }}</span
                >
                <a
                  href="{% url 'product_detail' slug=product.slug %}"
                  class="text-sm btn-primary py-2 px-3"
                >
                </a>
              </div>
            </div>
          </div>
          {% empty %}
          <p class="text-gray-600 text-center col-span-full">
            No products available at the moment.
          </p>
          {% endfor %}
        </div>
      </div>
    </section>

    <!-- Promotional Section -->
    <section class="py-12 sm:py-16">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div
          class="flex flex-col lg:flex-row items-center bg-white rounded-2xl p-6 sm:p-8 lg:p-12 gap-8"
        >
          <div class="lg:w-1/2 mb-6 lg:mb-0">
            <h2
              class="text-2xl sm:text-3xl lg:text-4xl font-bold mb-4 animate-fade-in leading-tight"
            >
              Game Day Ready - Shop Your Favorite Shoes!
            </h2>
            <a href="" class="inline-block btn-primary"> Shop Now </a>
          </div>
          <div class="lg:w-1/2">
            <img
              src="{% static 'user_app/group.png' %}"
              alt="Group with Shoes"
              class="w-full max-w-md mx-auto"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12 mt-auto">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <div class="flex items-center space-x-2 mb-4">
              <div
                class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center"
              >
                <i data-lucide="zap" class="w-5 h-5 text-white"></i>
              </div>
              <span class="text-xl font-bold">shopKickora</span>
            </div>
            <p class="text-gray-400 mb-4 text-sm sm:text-base">
              Your trusted partner for premium footwear. Quality, comfort, and
              style in every step.
            </p>
            <div class="flex space-x-4">
              <a
                href="#"
                class="text-gray-400 hover:text-white transition-colors"
                ><i data-lucide="facebook" class="w-5 h-5"></i
              ></a>
              <a
                href="#"
                class="text-gray-400 hover:text-white transition-colors"
                ><i data-lucide="twitter" class="w-5 h-5"></i
              ></a>
              <a
                href="#"
                class="text-gray-400 hover:text-white transition-colors"
                ><i data-lucide="instagram" class="w-5 h-5"></i
              ></a>
            </div>
          </div>
          <div>
            <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
            <ul class="space-y-2 text-sm sm:text-base">
              <li>
                <a
                  href="#"
                  class="text-gray-400 hover:text-white transition-colors"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-gray-400 hover:text-white transition-colors"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-gray-400 hover:text-white transition-colors"
                  >Size Guide</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-gray-400 hover:text-white transition-colors"
                  >Shipping Info</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h3 class="text-lg font-semibold mb-4">Categories</h3>
            <ul class="space-y-2 text-sm sm:text-base">
              <li>
                <a
                  href=""
                  class="text-gray-400 hover:text-white transition-colors"
                  >Men's Shoes</a
                >
              </li>
              <li>
                <a
                  href=""
                  class="text-gray-400 hover:text-white transition-colors"
                  >Women's Shoes</a
                >
              </li>
              <li>
                <a
                  href=""
                  class="text-gray-400 hover:text-white transition-colors"
                  >Kids' Shoes</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-gray-400 hover:text-white transition-colors"
                  >Accessories</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h3 class="text-lg font-semibold mb-4">Contact Info</h3>
            <div class="space-y-2 text-gray-400 text-sm sm:text-base">
              <p class="flex items-center">
                <i data-lucide="map-pin" class="w-4 h-4 mr-2"></i>
                123 Fashion Street, NY 10001
              </p>
              <p class="flex items-center">
                <i data-lucide="phone" class="w-4 h-4 mr-2"></i>
                (555) 123-4567
              </p>
              <p class="flex items-center">
                <i data-lucide="mail" class="w-4 h-4 mr-2"></i>
                info@shopkickora.com
              </p>
            </div>
          </div>
        </div>
        <div
          class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400 text-sm"
        >
          <p>© 2025 shopKickora. All rights reserved.</p>
        </div>
      </div>
    </footer>
    <!-- Logout Confirmation Modal -->
    <div
      id="logoutModal"
      class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 hidden"
    >
      <div class="bg-white rounded-lg shadow-lg max-w-sm w-full p-6">
        <h2 class="text-lg font-semibold mb-4">Confirm Logout</h2>
        <p class="mb-6 text-gray-600">Are you sure you want to log out?</p>
        <div class="flex justify-end space-x-4">
          <button
            id="cancelLogout"
            class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400"
          >
            Cancel
          </button>
          <a
            href="{% url 'logout' %}"
            class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"
            >Logout</a
          >
        </div>
      </div>
    </div>
    <script>
      const logoutBtn = document.getElementById("logoutBtn");
      const logoutModal = document.getElementById("logoutModal");
      const cancelLogout = document.getElementById("cancelLogout");

      logoutBtn.addEventListener("click", () => {
        logoutModal.classList.remove("hidden");
      });

      cancelLogout.addEventListener("click", () => {
        logoutModal.classList.add("hidden");
      });

      // Optional: close modal on ESC key
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          logoutModal.classList.add("hidden");
        }
      });
    </script>

    <script>
      // Initialize Lucide icons
      lucide.createIcons();

      // Mobile menu toggle
      const mobileMenuBtn = document.getElementById("mobile-menu-btn");
      const mobileMenu = document.getElementById("mobile-menu");
      mobileMenuBtn.addEventListener("click", () => {
        mobileMenu.classList.toggle("hidden");
      });
    </script>
  </body>
</html>
